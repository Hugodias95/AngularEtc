<html>

<body>

    <script>

        let processoAssincrono = new Promise((resolve, reject) => {
            setTimeout(() => resolve('Sucesso no processo assíncrono'), 3000)
        })

        //async automaticamente se transforma em uma Promisse
        async function recuperarDados() {
            await processoAssincrono.then(param => console.log(param))

            console.log('Processamento assíncrono 1')

            await fetch('https://jsonplaceholder.typicode.com/comments')
                .then(response => response.json())
                .then(json => console.log('Comentários: ', json))

            console.log('Processamento assíncrono 2')

            await fetch('https://jsonplaceholder.typicode.com/posts')
                .then(response => response.json())
                .then(json => console.log('Posts: ', json))

            console.log('Processamento assíncrono 3')

            return 'Fim'
        }

        recuperarDados().then((p) => console.log(p))
        

    </script>

</body>

</html>